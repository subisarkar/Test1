<root>
  <title> ARIEL Goal Instrument Model </title>
  <common>
    <logbinres val="1000" units="" comment="Resoving power for common spectral binnin. A linear binning wavelength integral is estimated as wl_min/R"/>
    <wl_min val="0.45" units="micron" comment="Shortest wavelength in simularion used for binning input spectra"/>
    <wl_max val="10" units="micron" comment="Shortest wavelength in simularion used for binning input spectra"/>
    <ExoSimOutputPath val="~/ExoSimOutput/Ariel_mcr_2" comment="output directory to store Sims" />
    <ConfigPath val = "__path__" />
  </common>
  
  <aocs>
    <PointingModel val="__path__/data/ariel/pointing_model_psd.csv" comment="Jitter PSD in units of deg**2/Hz" />
    <pointing_rms val="4.0e-5" units="deg" comment="RMS of desired jitter" />
    <pointing_scan_throw val="-8" units="arcsec" comment="Positive value enables scan-mode simulation. The value defines the throw of the scan, in arcsec. The period of the scan is defined by the exposure time." />
  </aocs>    

  <astroscene>
    <transit_is_primary val = "True"/>
    <use_planck_spectrum val = "False" comment="If True, use a Planck function for the stllar sed, otherwise use Phoenix"/>
    <planet val = 'gj1214b' />
    <planetCR val="__path__/data/planetary/transmission/gj1214_specmodel.dat" comment="planet/star contrast ratio"/>
    <OpenExoplanetCatalogue val =  "__path__/data/open_exoplanet_catalogue/systems/" comment="Path to openexoplanet catalogue. Null string downloads from URL."/>
    <StarSEDPath  val="__path__/data/star" />
    <StarLimbDarkening val="__path__/data/ldc_coeffs.dat" comment="Path to Model Limb Darkening coefficients table"/>
  </astroscene>
  
  <noise>
    <EnableSpatialJitter val="False" />
    <EnableSpectralJitter val="False" />
    <EnableShotNoise val="True" />
    <EnableReadoutNoise val="True" />
  </noise>
  
  <timeline>
    <exposure_time val="88.08" units="s" comment="time for one exposure containg set of NDRs" />
    <multiaccum val="2" units="" comment="number of NDRs per exposure" />
    <frame_rate val="100" units="1/s" comment="frame rate in SPS" />
    <nGND val='1' units="" comment="duration of reset event in units of 1/frame_rate" />
    <nNDR0 val='1' units="" comment="Integration time of first NDR in units of 1/frame_rate" />
    <nRST val = '1' units="" comment="Time lapse between last NDR and reset in units of 1/frame_rate" />
    <before_transit val="0.5" units="" comment="fraction of T14 for pre-transit observation" />
    <after_transit val="0.5"  units="" comment="fraction of T14 for post-transit observation" />
  </timeline>

<common_optics>
  <optical_surface type="mirror" transmission="__path__/data/ariel_mcr/Mx_re_v1.csv" val="70" units="K" comment="M1"/>
  <optical_surface type="mirror" transmission="__path__/data/ariel_mcr/Mx_re_v1.csv" val="70" units="K" comment="M2"/>
  <optical_surface type="mirror" transmission="__path__/data/ariel_mcr/Mx_re_v1.csv" val="70" units="K" comment="M3"/>
  <optical_surface type="mirror" transmission="__path__/data/ariel_mcr/Mx_re_v1.csv" val="70" units="K" comment="M4"/>
  <TelescopeEffectiveDiameter val="0.9" units="m" />
</common_optics>


<channel name="AIRS CH0" comment="AIRS CH0" type='spectrometer'>
  <is_spec val = "True" comment="if True, channel is a spectrometer, otherwise a photometer (no spectral dispersion)"/>
  <optical_surface type="dichroic" transmission="__path__/data/ariel_mcr/d1_te_v1.csv"  val="60" units="K" comment="D1"/>
  <optical_surface type="dichroic" transmission="__path__/data/ariel_mcr/d2_re_v1.csv"  val="60" units="K" comment="D2"/>
  <optical_surface type="lens" transmission="__path__/data/ariel_mcr/l_generic_te_v1.csv"  val="60" units="K" comment="CH0L1"/>
  <optical_surface type="mirror" transmission="__path__/data/ariel_mcr/Mx_re_v1.csv" val="60" units="K" comment="CH0M1"/>
  <optical_surface type="prism" transmission="__path__/data/ariel_mcr/p_airs_ch0_te_v1.csv" val="60" units="K" comment="CH0PRISM"/>
  <optical_surface type="mirror" transmission="__path__/data/ariel_mcr/Mx_re_v1.csv" val="60" units="K" comment="CH0M2"/>
  <optical_surface type="mirror" transmission="__path__/data/ariel_mcr/Mx_re_v1.csv" val="60" units="K" comment="CH0M3"/>
  <optical_surface type="lens" transmission="__path__/data/ariel_mcr/l_generic_te_v1.csv"  val="60" units="K" comment="CH0L2"/>
  <optical_surface type="lens" transmission="__path__/data/ariel_mcr/l_generic_te_v1.csv"  val="60" units="K" comment="CH0L2"/>
  <optical_surface type="correction" transmission="__path__/data/ariel_mcr/correction_Ch0.csv"  val="0" units="K" comment="corrects dynamic range and maximum"/>
  <slit_width val="17" units="" comment="Size of slit image in units of detector pixels"/>
  <dispersion path="__path__/data/ariel_mcr/CH0_prism_dispersion_angle_v1.csv" val="3840" units="micron" comment="Dispersion law. Val is the reference pixel, i.e. the centre of the array. If Linear dispersion is defined, dispersion takes precedence"/>
  
  <array_geometry val="64, 512" units = "" comment="pixel count"/>
  <wfno val="30.0" units="" comment="Image space f/#" />
  <osf val="3" units="" comment="Oversample each detector pixel by this amount. Need to be changed" />
  <pix_offs val="1" units = "" comment="Detector pixel center offset" />
  <qe val="__path__/data/ariel/qe_v0.csv" comment="" />
  <qe_rms_matrix_file val = "None" comment="[Default 'None'] Path to CSV file containing matrix of QE of pixels."/>
  <plate_scale val="6.11e-5" units="deg" comment="In degrees per pixel" />
  <detector_pixel>
    <pixel_size val="15" units="micron" />
    <Idc val="30" units="1/s" comment="Detector dark current"/>
    <sigma_ro val="16.0" units="" comment="Detector redout noise in e-rms"/>
    <pixel_diffusion_length val="1.7" units="micron" />
  </detector_pixel>
</channel>

<channel name="AIRS CH1" comment="AIRS CH1" type='spectrometer'>
  <is_spec val = "True" comment="if True, channel is a spectrometer, otherwise a photometer (no spectral dispersion)"/>
  <optical_surface type="dichroic" transmission="__path__/data/ariel_mcr/d1_te_v1.csv"  val="60" units="K" comment="D1"/>
  <optical_surface type="dichroic" transmission="__path__/data/ariel_mcr/d2_te_v1.csv"  val="60" units="K" comment="D2"/>
  <optical_surface type="lens" transmission="__path__/data/ariel_mcr/l_generic_te_v1.csv"  val="60" units="K" comment="CH1L1"/>
  <optical_surface type="prism" transmission="__path__/data/ariel_mcr/p_airs_ch1_te_v1.csv" val="60" units="K" comment="CH1PRISM"/>
  <optical_surface type="lens" transmission="__path__/data/ariel_mcr/l_generic_te_v1.csv"  val="60" units="K" comment="CH1L2"/>
  <optical_surface type="filter" transmission="__path__/data/ariel_mcr/mwir_hp_te_v1.csv"  val="60" units="K" comment="CH1L2"/>
  <optical_surface type="correction" transmission="__path__/data/ariel_mcr/correction_Ch1.csv"  val="0" units="K" comment="corrects dynamic range and maximum"/>

  <slit_width val="13" units="" comment="Size of slit image in units of detector pixels"/>
  <dispersion path="__path__/data/ariel_mcr/CH1_prism_dispersion_angle_v1.csv" val="960" units="micron" comment="Dispersion law. Val is the reference pixel, i.e. the centre of the array"/>
  <array_geometry val="64, 128" units= "" comment="pixel count"/>
  
  <wfno val="15.0" units="" transmission="The image space f/#" />
  <osf val="3" units="" comment="Oversample each detector pixel by this amount. Need to be changed" />
  <pix_offs val="1" units = "" comment="Detector pixel center offset" />
  <qe val="__path__/data/ariel/qe_v0.csv" comment="" />
  <qe_rms_matrix_file val = "None" comment="[Default 'None'] Path to CSV file containing matrix of QE of pixels."/>
  <plate_scale val="1.23e-4" units="deg" comment="In degrees per pixel" />
  <detector_pixel>
    <pixel_size val="15" units="micron"  />
    <Idc val="50" units="1/s" comment="Detector dark current"/>
    <sigma_ro val="16" units="" comment="Detector redout noise in e-rms"/>
    <pixel_diffusion_length val="1.7" units="micron" />
  </detector_pixel>
</channel>



</root>
